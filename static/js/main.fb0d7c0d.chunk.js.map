{"version":3,"sources":["components/SearchForm/SearchForm.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/LoadMoreButton/LoadMoreButton.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","App.js","reportWebVitals.js","index.js"],"names":["SearchForm","handleInput","handleFormSubmit","imgName","className","onSubmit","type","value","autoComplete","autoFocus","placeholder","onChange","Searchbar","state","e","currentTarget","setState","preventDefault","trim","props","toast","error","this","Component","ImageGalleryItem","id","alt","webformatURL","largeImageURL","onClick","scrollStatus","obj","src","setTimeout","window","scrollTo","top","document","documentElement","scrollHeight","behavior","LoadMoreButton","handleLoadMoreButton","Status","ImageGallery","imgCards","status","page","prevState","fetch","then","response","json","hits","catch","changeStatusScrooll","onCLickImg","prevProps","length","color","height","width","timeout","map","tags","message","modalRoot","querySelector","Modal","handleKeyDown","code","console","log","onClose","handleBackdropClick","event","target","addEventListener","removeEventListener","imgInfo","createPortal","App","showModal","toggleModal","autoClose","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.fb0d7c0d.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"../SearchForm/SearchForm.css\";\r\n\r\nfunction SearchForm({ handleInput, handleFormSubmit, imgName }) {\r\n  return (\r\n    <form className=\"SearchForm\" onSubmit={handleFormSubmit}>\r\n      <button type=\"submit\" className=\"SearchForm-button\">\r\n        <span className=\"SearchForm-button-label\">Search</span>\r\n      </button>\r\n\r\n      <input\r\n        value={imgName}\r\n        className=\"SearchForm-input\"\r\n        type=\"text\"\r\n        autoComplete=\"off\"\r\n        autoFocus\r\n        placeholder=\"Search images and photos\"\r\n        onChange={handleInput}\r\n      />\r\n    </form>\r\n  );\r\n}\r\n\r\nSearchForm.propTypes = {\r\n  handleInput: PropTypes.func.isRequired,\r\n  handleFormSubmit: PropTypes.func.isRequired,\r\n  imgName: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default SearchForm;\r\n","import React, { Component } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport SearchForm from \"../SearchForm/SearchForm\";\r\nimport \"./Searchbar.css\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    imgName: \"\",\r\n  };\r\n  handleInput = (e) => {\r\n    const value = e.currentTarget.value;\r\n    this.setState({\r\n      imgName: value,\r\n    });\r\n  };\r\n  handleFormSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.imgName.trim() === \"\") {\r\n      toast.error(\"Введите слово.\");\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.imgName);\r\n    this.setState({ imgName: \"\" });\r\n  };\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <SearchForm\r\n          handleFormSubmit={this.handleFormSubmit}\r\n          handleInput={this.handleInput}\r\n          imgName={this.state.imgName}\r\n        />\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from \"react\";\r\nimport \"./imageGalleryItem.css\";\r\n\r\nconst scroll = () => {\r\n  setTimeout(() => {\r\n    return window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  }, 100);\r\n};\r\n\r\nfunction ImageGalleryItem({\r\n  id,\r\n  alt,\r\n  webformatURL,\r\n  largeImageURL,\r\n  onClick,\r\n  scrollStatus,\r\n}) {\r\n  const obj = {\r\n    id,\r\n    alt,\r\n    largeImageURL,\r\n  };\r\n  return (\r\n    <li\r\n      key={id}\r\n      className=\"ImageGalleryItem\"\r\n      onClick={() => {\r\n        onClick(obj);\r\n      }}\r\n    >\r\n      <img\r\n        src={webformatURL}\r\n        alt={alt}\r\n        data-imglarge={largeImageURL}\r\n        className=\"ImageGalleryItem-image\"\r\n      />\r\n      {scrollStatus && scroll()}\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport \"./LoadMoreButton.css\";\r\n\r\nfunction LoadMoreButton({ handleLoadMoreButton }) {\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      className=\"Button\"\r\n      onClick={() => handleLoadMoreButton()}\r\n    >\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default LoadMoreButton;\r\n","import React, { Component } from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport LoadMoreButton from \"../LoadMoreButton/LoadMoreButton\";\r\nimport \"./ImageGallery.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst Status = {\r\n  IDLE: \"idle\",\r\n  PENDING: \"pending\",\r\n  RESOLVED: \"resolved\",\r\n  REJECTED: \"rejected\",\r\n};\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    imgCards: [],\r\n    error: null,\r\n    status: Status.IDLE,\r\n    page: 1,\r\n    scrollStatus: false,\r\n  };\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevName = prevProps.imgName;\r\n    const nextName = this.props.imgName;\r\n\r\n    if (prevName !== nextName) {\r\n      this.setState({ status: Status.PENDING });\r\n\r\n      fetch(\r\n        `https://pixabay.com/api/?q=${this.props.imgName}&page=${this.state.page}&key=22260377-843feab13a68cee38d30608c2&image_type=photo&orientation=horizontal&per_page=12`\r\n      )\r\n        .then((response) => response.json())\r\n        .then(({ hits }) => {\r\n          if (hits.length === 0) {\r\n            this.setState({\r\n              status: Status.IDLE,\r\n            });\r\n            return toast.error(\"Не таких картинок !!!\");\r\n          }\r\n          this.setState({\r\n            imgCards: [...hits],\r\n            status: Status.RESOLVED,\r\n          });\r\n        })\r\n        .catch((error) => this.setState({ error, status: Status.REJECTED }));\r\n    }\r\n  }\r\n  handleLoadMoreButton = () => {\r\n    this.setState((prevState) => ({\r\n      page: prevState.page + 1,\r\n      scrollStatus: true,\r\n    }));\r\n\r\n    setTimeout(() => {\r\n      fetch(\r\n        `https://pixabay.com/api/?q=${this.props.imgName}&page=${this.state.page}&key=22260377-843feab13a68cee38d30608c2&image_type=photo&orientation=horizontal&per_page=12`\r\n      )\r\n        .then((response) => response.json())\r\n        .then(({ hits }) => {\r\n          this.setState({\r\n            imgCards: [...this.state.imgCards, ...hits],\r\n            status: Status.RESOLVED,\r\n          });\r\n        })\r\n        .catch((error) => this.setState({ error, status: Status.REJECTED }));\r\n    }, 0);\r\n  };\r\n  changeStatusScrooll = (obj) => {\r\n    const { onCLickImg } = this.props;\r\n    onCLickImg(obj);\r\n    this.setState({\r\n      scrollStatus: false,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { status, imgCards, error, scrollStatus } = this.state;\r\n\r\n    if (status === \"idle\") {\r\n      return null;\r\n    }\r\n    if (status === \"pending\") {\r\n      return (\r\n        <div className=\"loader\">\r\n          <Loader\r\n            type=\"Bars\"\r\n            color=\"#00BFFF\"\r\n            height={80}\r\n            width={80}\r\n            timeout={3000}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n    if (status === \"resolved\") {\r\n      return (\r\n        <>\r\n          <ul className=\"ImageGallery\">\r\n            {imgCards.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n              <ImageGalleryItem\r\n                key={id}\r\n                id={id}\r\n                alt={tags}\r\n                webformatURL={webformatURL}\r\n                largeImageURL={largeImageURL}\r\n                onClick={this.changeStatusScrooll}\r\n                scrollStatus={scrollStatus}\r\n              />\r\n            ))}\r\n          </ul>\r\n          <LoadMoreButton handleLoadMoreButton={this.handleLoadMoreButton} />\r\n        </>\r\n      );\r\n    }\r\n    if (status === \"rejected\") {\r\n      return <h2>{error.message}</h2>;\r\n    }\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport \"./Modal.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      console.log(\"Нажали ESC, нужно закрыть модалку\");\r\n\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (event) => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  render() {\r\n    const { imgInfo } = this.props;\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\r\n        <div className=\"Modal\">\r\n          <img src={imgInfo.largeImageURL} alt={imgInfo.alt} />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n","import { Component } from \"react\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Modal from \"./components/Modal\";\n\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport \"./index.css\";\n\nclass App extends Component {\n  state = {\n    imgName: null,\n    showModal: false,\n    src: null,\n  };\n  onSubmit = (imgName) => {\n    this.setState({\n      imgName,\n    });\n  };\n  toggleModal = (id) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      src: id,\n    }));\n  };\n\n  render() {\n    const { showModal, src } = this.state;\n    return (\n      <div className=\"App\">\n        {showModal && <Modal onClose={this.toggleModal} imgInfo={src}></Modal>}\n        <ToastContainer autoClose={3000} />\n        <Searchbar onSubmit={this.onSubmit} />\n        <ImageGallery\n          imgName={this.state.imgName}\n          onCLickImg={this.toggleModal}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}